{"remainingRequest":"/home/project/managementui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/project/managementui/src/views/TaskList/components/TaskTodo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/project/managementui/src/views/TaskList/components/TaskTodo.vue","mtime":1650279509263},{"path":"/home/project/managementui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/project/managementui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/project/managementui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/project/managementui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMYXlvdXQgZnJvbSAiQC9MYXlvdXQiOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwaWNrZXJPcHRpb25zOiB7CiAgICAgICAgc2hvcnRjdXRzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICLmnIDov5HkuIDlkagiLAogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDcpOwogICAgICAgICAgICAgIHBpY2tlci4kZW1pdCgicGljayIsIFtzdGFydCwgZW5kXSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0ZXh0OiAi5pyA6L+R5LiA5Liq5pyIIiwKICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiAzMCk7CiAgICAgICAgICAgICAgcGlja2VyLiRlbWl0KCJwaWNrIiwgW3N0YXJ0LCBlbmRdKTsKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICLmnIDov5HkuInkuKrmnIgiLAogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDkwKTsKICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoInBpY2siLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9LAogICAgICB2YWx1ZTI6ICIiLAogICAgICB0YXNrRGVhbERldGFpbFNob3c6IGZhbHNlLAogICAgICBzdW1tYXJ5OiBbCiAgICAgICAgewogICAgICAgICAgbnVtc1RvZGF5VG90YWw6IDEwNCwKICAgICAgICAgIHRlbFNhbGVzOiB7CiAgICAgICAgICAgIHRvdGFsVGVsU2FsZXM6IDUyLAogICAgICAgICAgICBmaW5pc2hUZWxTYWxlczogMzIsCiAgICAgICAgICAgIHVuZmluaXNoVGVsU2FsZXM6IDIwLAogICAgICAgICAgICBmaXJzdENhbGxUZWxTYWxlczogMzYsCiAgICAgICAgICAgIHVuZmlyc3RDYWxsVGVsU2FsZXM6IDE2LAogICAgICAgICAgfSwKICAgICAgICAgIG1hcmtldGluZzogewogICAgICAgICAgICB0b3RhbE1hcmtldGluZzogNTIsCiAgICAgICAgICAgIGZpbmlzaE1hcmtldGluZzogMzIsCiAgICAgICAgICAgIHVuZmluaXNoTWFya2V0aW5nOiAyMCwKICAgICAgICAgICAgZmlyc3RDYWxsTWFya2V0aW5nOiAzNiwKICAgICAgICAgICAgdW5maXJzdENhbGxNYXJrZXRpbmc6IDE2LAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICBdLAogICAgICB0YWJsZURhdGE6IFsKICAgICAgICB7CiAgICAgICAgICBvcmlnaW46ICLnlLXplIAiLAogICAgICAgICAgbmFtZUN1c3RvbWVyOiAi5p2O5YWJ5paMIiwKICAgICAgICAgIG51bUxpY2Vuc2VQbGF0ZTogIuW3nUFZMDZNNyIsCiAgICAgICAgICBzdGF0ZUZpcnN0Q2FsbDogIuacqummluWRvCIsCiAgICAgICAgICBzdGF0dXNDdXN0b21lcjogIua9nOWcqOWuouaItyIsCiAgICAgICAgICBzdGFydFRpbWU6ICIyMDE5LTA2LTMwIiwKICAgICAgICAgIHN0b3BUaW1lOiAiMjAyMC0wNi0zMCIsCiAgICAgICAgICBpc1Jlc2VydmF0aW9uOiAi6aKE57qmIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG9yaWdpbjogIuiQpemUgCIsCiAgICAgICAgICBuYW1lQ3VzdG9tZXI6ICLnjovnuqLpnJ4iLAogICAgICAgICAgbnVtTGljZW5zZVBsYXRlOiAi5bedQTE4NjBWIiwKICAgICAgICAgIHN0YXRlRmlyc3RDYWxsOiAi5pyq6aaW5ZG8IiwKICAgICAgICAgIHN0YXR1c0N1c3RvbWVyOiAi5r2c5Zyo5a6i5oi3IiwKICAgICAgICAgIHN0YXJ0VGltZTogIjIwMTktMDYtMzAiLAogICAgICAgICAgc3RvcFRpbWU6ICIyMDIwLTA2LTMwIiwKICAgICAgICAgIGlzUmVzZXJ2YXRpb246ICLliIbphY0iLAogICAgICAgIH0sCiAgICAgIF0sCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGFjdGl2ZU5hbWUodmFsKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAke3RoaXMuJHJvdXRlLnBhdGh9P3RhYj0ke3ZhbH1gKTsgLy8g5YiH5o2i6Lev55SxCiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGNvbnN0IHRhYiA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnRhYjsKICAgIGlmICh0YWIpIHsKICAgICAgdGhpcy5hY3RpdmVOYW1lID0gdGFiOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5pi+56S65LuK5pel5b6F5Yqe5YiX6KGoCiAgICBoYW5kbGVTaG93TGlzdCgpIHsKICAgICAgdGhpcy5saXN0VmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgLy8g5p+l55yL5a6i5oi35L+h5oGvCiAgICBzaG93RGV0YWlsKCkgewogICAgICBjb25zdCBpZCA9IHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAxMDAwMDApOwogICAgICBjb25zdCByb3V0ZSA9IHsKICAgICAgICBwYXRoOiBgL3VzZXJJbmZvP2lkPSR7aWR9YCwKICAgICAgICBjb21wb25lbnQ6IExheW91dCwKICAgICAgICBoaWRkZW46IHRydWUsCiAgICAgIH07CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHJvdXRlKTsKICAgIH0sCiAgICAvLyDlvLnlh7rlvLnmoYYKICAgIHNob3dUYXNrRGVhbERldGFpbCgpIHsKICAgICAgdGhpcy4kcmVmcy5jaGlsZEhhbmRsZS5zaG93RGlhbG9nKCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["TaskTodo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyMA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TaskTodo.vue","sourceRoot":"src/views/TaskList/components","sourcesContent":["<template>\n  <div class=\"ui-task-today\">\n    <el-table\n      current-row-key\n      :data=\"summary\"\n      style=\"width: 100%\"\n      border\n      fit\n      highlight-current-row\n    >\n      <el-table-column\n        align=\"center\"\n        prop=\"numsTodayTotal\"\n        label=\"总待办数\"\n        width=\"150\"\n      >\n        <template slot-scope=\"scope\">\n          <el-badge :value=\"scope.row.numsTodayTotal\" type=\"primary\">\n            <el-button size=\"mini\">总待办数</el-button>\n          </el-badge>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"电销任务数\" prop=\"telSales\">\n        <template slot-scope=\"scope\">\n          <el-row>\n            <el-col :span=\"6\" align=\"center\" class=\"margin-bottom1\">\n              <el-badge\n                :value=\"scope.row.telSales.totalTelSales\"\n                class=\"item\"\n                type=\"primary\"\n              >\n                <el-button size=\"mini\">总数</el-button>\n              </el-badge>\n            </el-col>\n            <el-col :span=\"6\" align=\"center\" class=\"margin-bottom1\">\n              <el-badge\n                :value=\"scope.row.telSales.finishTelSales\"\n                class=\"item\"\n                type=\"success\"\n              >\n                <el-button size=\"mini\">已完成</el-button>\n              </el-badge>\n            </el-col>\n            <el-col :span=\"6\" align=\"center\" class=\"margin-bottom1\">\n              <el-badge\n                :value=\"scope.row.telSales.unfinishTelSales\"\n                class=\"item\"\n              >\n                <el-button size=\"mini\">未完成</el-button>\n              </el-badge>\n            </el-col>\n            <el-col :span=\"6\" align=\"center\" class=\"margin-bottom1\">\n              <el-badge\n                :value=\"scope.row.telSales.unfirstCallTelSales\"\n                class=\"item\"\n              >\n                <el-button size=\"mini\">未首呼</el-button>\n              </el-badge>\n            </el-col>\n          </el-row>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        prop=\"marketing\"\n        label=\"营销任务数\"\n        class-name=\"small-padding fixed-width\"\n      >\n        <template slot-scope=\"scope\">\n          <el-row>\n            <el-col :span=\"6\" align=\"center\" class=\"margin-bottom1\">\n              <el-badge\n                :value=\"scope.row.marketing.totalMarketing\"\n                class=\"item\"\n                type=\"primary\"\n              >\n                <el-button size=\"mini\">总数</el-button>\n              </el-badge>\n            </el-col>\n            <el-col :span=\"6\" align=\"center\" class=\"margin-bottom1\">\n              <el-badge\n                :value=\"scope.row.marketing.finishMarketing\"\n                class=\"item\"\n                type=\"success\"\n              >\n                <el-button size=\"mini\">已完成</el-button>\n              </el-badge>\n            </el-col>\n            <el-col :span=\"6\" align=\"center\" class=\"margin-bottom1\">\n              <el-badge\n                :value=\"scope.row.marketing.unfinishMarketing\"\n                class=\"item\"\n              >\n                <el-button size=\"mini\">未完成</el-button>\n              </el-badge>\n            </el-col>\n            <el-col :span=\"6\" align=\"center\" class=\"margin-bottom1\">\n              <el-badge\n                :value=\"scope.row.marketing.unfirstCallMarketing\"\n                class=\"item\"\n              >\n                <el-button size=\"mini\">未首呼</el-button>\n              </el-badge>\n            </el-col>\n          </el-row>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-divider />\n\n    <el-form :inline=\"true\" class=\"filter-box\">\n      <el-form-item label=\"时间段筛选\">\n        <el-date-picker\n          v-model=\"value2\"\n          type=\"daterange\"\n          align=\"right\"\n          unlink-panels\n          range-separator=\"至\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\"\n          size=\"mini\"\n          :picker-options=\"pickerOptions\"\n        />\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-search\"\n          >查询</el-button\n        >\n      </el-form-item>\n    </el-form>\n    <!-- 默认列出一周内的待办任务 -->\n    <div class>\n      <el-table\n        current-row-key\n        :data=\"tableData\"\n        style=\"width: 100%\"\n        border\n        fit\n        highlight-current-row\n      >\n        <el-table-column label=\"任务来源\" align=\"center\" prop=\"origin\">\n          <template slot-scope=\"scope\">\n            <el-tag :type=\"scope.row.origin === '电销' ? 'primary' : 'success' \"\n              >{{ scope.row.origin }}</el-tag\n            >\n          </template>\n        </el-table-column>\n        <el-table-column align=\"center\" prop=\"nameCustomer\" label=\"客户名称\" />\n        <el-table-column align=\"center\" prop=\"numLicensePlate\" label=\"车牌号\" />\n        <el-table-column align=\"center\" prop=\"stateFirstCall\" label=\"首呼状态\">\n          <template slot-scope=\"scope\">\n            <el-tag\n              :type=\"scope.row.stateFirstCall === '未首呼' ? 'danger' : 'primary'\"\n              >{{ scope.row.stateFirstCall }}</el-tag\n            >\n          </template>\n        </el-table-column>\n        <el-table-column\n          align=\"center\"\n          prop=\"statusCustomer\"\n          label=\"客户状态\"\n        />\n        <el-table-column align=\"center\" label=\"起止时间\">\n          <template slot-scope=\"scope\">\n            <el-tag type=\"info\" size=\"mini\">{{ scope.row.startTime }}</el-tag>\n            <el-tag type=\"info\" size=\"mini\">{{ scope.row.stopTime }}</el-tag>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"是否预约\">\n          <template slot-scope=\"scope\">\n            <el-tag\n              :type=\"scope.row.isReservation === '预约' ? 'danger' : 'primary'\"\n              >{{ scope.row.isReservation }}</el-tag\n            >\n          </template>\n        </el-table-column>\n        <el-table-column\n          align=\"center\"\n          label=\"操作\"\n          class-name=\"small-padding fixed-width\"\n          width=\"300\"\n        >\n          <template slot-scope=\"{row}\">\n            <el-button type=\"primary\" size=\"small\" icon=\"el-icon-phone\"\n              >联系客户</el-button\n            >\n            <el-button\n              type=\"primary\"\n              size=\"small\"\n              icon=\"el-icon-view\"\n              @click=\"showDetail(row)\"\n              >查看客户信息</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n<script>\n  import Layout from \"@/Layout\";\n\n  export default {\n    data() {\n      return {\n        pickerOptions: {\n          shortcuts: [\n            {\n              text: \"最近一周\",\n              onClick(picker) {\n                const end = new Date();\n                const start = new Date();\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n                picker.$emit(\"pick\", [start, end]);\n              },\n            },\n            {\n              text: \"最近一个月\",\n              onClick(picker) {\n                const end = new Date();\n                const start = new Date();\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n                picker.$emit(\"pick\", [start, end]);\n              },\n            },\n            {\n              text: \"最近三个月\",\n              onClick(picker) {\n                const end = new Date();\n                const start = new Date();\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n                picker.$emit(\"pick\", [start, end]);\n              },\n            },\n          ],\n        },\n        value2: \"\",\n        taskDealDetailShow: false,\n        summary: [\n          {\n            numsTodayTotal: 104,\n            telSales: {\n              totalTelSales: 52,\n              finishTelSales: 32,\n              unfinishTelSales: 20,\n              firstCallTelSales: 36,\n              unfirstCallTelSales: 16,\n            },\n            marketing: {\n              totalMarketing: 52,\n              finishMarketing: 32,\n              unfinishMarketing: 20,\n              firstCallMarketing: 36,\n              unfirstCallMarketing: 16,\n            },\n          },\n        ],\n        tableData: [\n          {\n            origin: \"电销\",\n            nameCustomer: \"李光斌\",\n            numLicensePlate: \"川AY06M7\",\n            stateFirstCall: \"未首呼\",\n            statusCustomer: \"潜在客户\",\n            startTime: \"2019-06-30\",\n            stopTime: \"2020-06-30\",\n            isReservation: \"预约\",\n          },\n          {\n            origin: \"营销\",\n            nameCustomer: \"王红霞\",\n            numLicensePlate: \"川A1860V\",\n            stateFirstCall: \"未首呼\",\n            statusCustomer: \"潜在客户\",\n            startTime: \"2019-06-30\",\n            stopTime: \"2020-06-30\",\n            isReservation: \"分配\",\n          },\n        ],\n      };\n    },\n    watch: {\n      activeName(val) {\n        this.$router.push(`${this.$route.path}?tab=${val}`); // 切换路由\n      },\n    },\n    created() {\n      const tab = this.$route.query.tab;\n      if (tab) {\n        this.activeName = tab;\n      }\n    },\n    methods: {\n      // 显示今日待办列表\n      handleShowList() {\n        this.listVisible = true;\n      },\n      // 查看客户信息\n      showDetail() {\n        const id = parseInt(Math.random() * 100000);\n        const route = {\n          path: `/userInfo?id=${id}`,\n          component: Layout,\n          hidden: true,\n        };\n        this.$router.push(route);\n      },\n      // 弹出弹框\n      showTaskDealDetail() {\n        this.$refs.childHandle.showDialog();\n      },\n    },\n  };\n</script>\n<style>\n  .el-badge__content.is-fixed {\n    top: 8px !important;\n  }\n</style>\n\n<style scoped>\n  .margin-bottom1 {\n    margin-bottom: 3px;\n  }\n  .filter-box {\n    margin-top: 15px;\n  }\n</style>"]}]}