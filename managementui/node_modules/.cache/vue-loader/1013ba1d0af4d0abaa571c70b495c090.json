{"remainingRequest":"/home/project/managementui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/project/managementui/src/views/TaskList/components/TaskReservation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/project/managementui/src/views/TaskList/components/TaskReservation.vue","mtime":1650279544816},{"path":"/home/project/managementui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/project/managementui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/project/managementui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/project/managementui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMYXlvdXQgZnJvbSAiQC9MYXlvdXQiOwpleHBvcnQgZGVmYXVsdCB7CiAgY3JlYXRlZCgpIHsKICAgIGNvbnN0IHRhYiA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnRhYjsgLy8g6I635Y+W6Lev55Sx5Lit55qEIHRhYiDlrZfmrrXlgLwKICAgIGlmICh0YWIpIHsKICAgICAgdGhpcy5hY3RpdmVOYW1lID0gdGFiOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2hvd0RldGFpbCgpIHsKICAgICAgY29uc3QgaWQgPSBwYXJzZUludChNYXRoLnJhbmRvbSgpICogMTAwMDAwKTsgLy8g6ZqP5py655Sf5oiQ5LiA5LiqIDEwMDAwMCDku6XlhoXnmoTmlbDlgLzkvZzkuLogaWQKICAgICAgY29uc3Qgcm91dGUgPSB7CiAgICAgICAgcGF0aDogYC91c2VySW5mbz9pZD0ke2lkfWAsCiAgICAgICAgY29tcG9uZW50OiBMYXlvdXQsCiAgICAgICAgaGlkZGVuOiB0cnVlLAogICAgICB9OwogICAgICB0aGlzLiRyb3V0ZXIucHVzaChyb3V0ZSk7CiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhYmVsUG9zaXRpb246ICJyaWdodCIsCiAgICAgIGZvcm1JbmxpbmU6IHsKICAgICAgICBuYW1lQ3VzdG9tZXI6ICIiLAogICAgICAgIG51bUxpY2Vuc2VQbGF0ZTogIiIsCiAgICAgICAgbGV2ZWw6ICLpq5giLAogICAgICAgIHN0YXRlVG91Y2g6ICLnu6fnu63ot5/ouKoiLAogICAgICB9LAogICAgICBwaWNrZXJPcHRpb25zOiB7CiAgICAgICAgc2hvcnRjdXRzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICLmnIDov5HkuIDlkagiLAogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDcpOwogICAgICAgICAgICAgIHBpY2tlci4kZW1pdCgicGljayIsIFtzdGFydCwgZW5kXSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0ZXh0OiAi5pyA6L+R5LiA5Liq5pyIIiwKICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiAzMCk7CiAgICAgICAgICAgICAgcGlja2VyLiRlbWl0KCJwaWNrIiwgW3N0YXJ0LCBlbmRdKTsKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICLmnIDov5HkuInkuKrmnIgiLAogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDkwKTsKICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoInBpY2siLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9LAogICAgICB2YWx1ZTI6ICIiLAogICAgICB0YWJsZURhdGE6IFsKICAgICAgICB7CiAgICAgICAgICBuYW1lQ3VzdG9tZXI6ICLmnY7lhYnmlowiLAogICAgICAgICAgbnVtTGljZW5zZVBsYXRlOiAi5bedQVkwNE03IiwKICAgICAgICAgIGxldmVsOiAi6auYIiwKICAgICAgICAgIHN0YXRlVG91Y2g6ICLnu6fnu63ot5/ouKoiLAogICAgICAgICAgc3RhcnRUaW1lOiAiMjAxOS0wNi0zMCAxMjowMDowMCIsCiAgICAgICAgICBzdG9wVGltZTogIjIwMTktMDctMzAgMTA6MDA6MDAiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZUN1c3RvbWVyOiAi6IKW5YW1IiwKICAgICAgICAgIG51bUxpY2Vuc2VQbGF0ZTogIuW3nUFTOTRCMCIsCiAgICAgICAgICBsZXZlbDogIuS9jiIsCiAgICAgICAgICBzdGF0ZVRvdWNoOiAi57un57ut6Lef6LiqIiwKICAgICAgICAgIHN0YXJ0VGltZTogIjIwMTktMDYtMzAgMTI6MDA6MDAiLAogICAgICAgICAgc3RvcFRpbWU6ICIyMDE5LTA3LTMwIDEwOjAwOjAwIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWVDdXN0b21lcjogIuadjue/vCIsCiAgICAgICAgICBudW1MaWNlbnNlUGxhdGU6ICLlt51BOTRVOFEiLAogICAgICAgICAgbGV2ZWw6ICLkuK0iLAogICAgICAgICAgc3RhdGVUb3VjaDogIue7p+e7rei3n+i4qiIsCiAgICAgICAgICBzdGFydFRpbWU6ICIyMDE5LTA2LTMwIDEyOjAwOjAwIiwKICAgICAgICAgIHN0b3BUaW1lOiAiMjAxOS0wNy0zMCAxMDowMDowMCIsCiAgICAgICAgfSwKICAgICAgXSwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgLy8g55uR5ZCsIGFjdGl2ZU5hbWUg55qE5Y+Y5YyWCiAgICBhY3RpdmVOYW1lKHZhbCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgJHt0aGlzLiRyb3V0ZS5wYXRofT90YWI9JHt2YWx9YCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["TaskReservation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TaskReservation.vue","sourceRoot":"src/views/TaskList/components","sourcesContent":["<template>\n  <div class=\"ui-task-reservation\">\n    <el-collapse accordion>\n      <el-collapse-item :class=\"['collapse-item_header']\">\n        <template slot=\"title\" style=\"color:red\">\n          <i class=\"el-icon-search\" />&nbsp;查询客户\n        </template>\n        <el-form\n          :label-position=\"labelPosition\"\n          :inline=\"true\"\n          :model=\"formInline\"\n          label-width=\"100px\"\n          size=\"mini\"\n        >\n          <el-form-item label=\"客户姓名\">\n            <el-input\n              v-model=\"formInline.nameCustomer\"\n              placeholder=\"客户姓名\"\n            />\n          </el-form-item>\n          <el-form-item label=\"车牌号\">\n            <el-input\n              v-model=\"formInline.numLicensePlate\"\n              placeholder=\"车牌号\"\n            />\n          </el-form-item>\n          <el-form-item label=\"预约优先级\">\n            <el-select v-model=\"formInline.level\" placeholder=\"优先级\">\n              <el-option label=\"全部\" value=\"0\" />\n              <el-option label=\"高\" value=\"1\" />\n              <el-option label=\"中\" value=\"2\" />\n              <el-option label=\"低\" value=\"3\" />\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"跟进状态\">\n            <el-select\n              v-model=\"formInline.stateTouch\"\n              placeholder=\"跟进状态\"\n              class=\"limitWidth\"\n            >\n              <el-option label=\"继续跟踪\" value=\"0\" />\n              <el-option label=\"成功\" value=\"1\" />\n              <el-option label=\"失败\" value=\"2\" />\n              <el-option label=\"未跟进\" value=\"3\" />\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"预约时间\">\n            <el-date-picker\n              v-model=\"value2\"\n              type=\"daterange\"\n              align=\"right\"\n              unlink-panels\n              range-separator=\"~\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\"\n              :picker-options=\"pickerOptions\"\n            />\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" icon=\"el-icon-search\">查询</el-button>\n          </el-form-item>\n        </el-form>\n      </el-collapse-item>\n    </el-collapse>\n    <!-- 默认列出3天内的预约任务 -->\n    <el-table\n      current-row-key\n      :data=\"tableData\"\n      style=\"width: 100%\"\n      border\n      fit\n      highlight-current-row\n    >\n      <el-table-column\n        align=\"center\"\n        prop=\"nameCustomer\"\n        label=\"客户姓名\"\n        width=\"80px\"\n      />\n      <el-table-column align=\"center\" prop=\"numLicensePlate\" label=\"车牌号\" />\n      <el-table-column align=\"center\" prop=\"level\" label=\"优先级\" width=\"80px\">\n        <template slot-scope=\"scope\">\n          <el-tag :type=\"scope.row.level === '高' ? 'danger' : 'primary'\"\n            >{{ scope.row.level }}</el-tag\n          >\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" prop=\"stateTouch\" label=\"跟进状态\">\n        <template slot-scope=\"scope\">\n          <el-tag\n            :type=\"scope.row.stateTouch === '继续跟踪' ? 'primary' : 'danger'\"\n            >{{ scope.row.stateTouch }}</el-tag\n          >\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" prop=\"timeReservation\" label=\"预约时间\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"info\" size=\"mini\">{{ scope.row.startTime }}</el-tag>\n          <el-tag type=\"info\" size=\"mini\">{{ scope.row.stopTime }}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n        align=\"center\"\n        label=\"操作\"\n        class-name=\"small-padding fixed-width\"\n      >\n        <template slot-scope=\"{row}\">\n          <el-button type=\"primary\" size=\"small\" icon=\"el-icon-phone\"\n            >联系客户</el-button\n          >\n          <el-button\n            type=\"primary\"\n            size=\"small\"\n            icon=\"el-icon-view\"\n            @click=\"showDetail(row)\"\n            >查看客户信息</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n<script>\n  import Layout from \"@/Layout\";\n  export default {\n    created() {\n      const tab = this.$route.query.tab; // 获取路由中的 tab 字段值\n      if (tab) {\n        this.activeName = tab;\n      }\n    },\n    methods: {\n      showDetail() {\n        const id = parseInt(Math.random() * 100000); // 随机生成一个 100000 以内的数值作为 id\n        const route = {\n          path: `/userInfo?id=${id}`,\n          component: Layout,\n          hidden: true,\n        };\n        this.$router.push(route);\n      },\n    },\n    data() {\n      return {\n        labelPosition: \"right\",\n        formInline: {\n          nameCustomer: \"\",\n          numLicensePlate: \"\",\n          level: \"高\",\n          stateTouch: \"继续跟踪\",\n        },\n        pickerOptions: {\n          shortcuts: [\n            {\n              text: \"最近一周\",\n              onClick(picker) {\n                const end = new Date();\n                const start = new Date();\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n                picker.$emit(\"pick\", [start, end]);\n              },\n            },\n            {\n              text: \"最近一个月\",\n              onClick(picker) {\n                const end = new Date();\n                const start = new Date();\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n                picker.$emit(\"pick\", [start, end]);\n              },\n            },\n            {\n              text: \"最近三个月\",\n              onClick(picker) {\n                const end = new Date();\n                const start = new Date();\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n                picker.$emit(\"pick\", [start, end]);\n              },\n            },\n          ],\n        },\n        value2: \"\",\n        tableData: [\n          {\n            nameCustomer: \"李光斌\",\n            numLicensePlate: \"川AY04M7\",\n            level: \"高\",\n            stateTouch: \"继续跟踪\",\n            startTime: \"2019-06-30 12:00:00\",\n            stopTime: \"2019-07-30 10:00:00\",\n          },\n          {\n            nameCustomer: \"肖兵\",\n            numLicensePlate: \"川AS94B0\",\n            level: \"低\",\n            stateTouch: \"继续跟踪\",\n            startTime: \"2019-06-30 12:00:00\",\n            stopTime: \"2019-07-30 10:00:00\",\n          },\n          {\n            nameCustomer: \"李翼\",\n            numLicensePlate: \"川A94U8Q\",\n            level: \"中\",\n            stateTouch: \"继续跟踪\",\n            startTime: \"2019-06-30 12:00:00\",\n            stopTime: \"2019-07-30 10:00:00\",\n          },\n        ],\n      };\n    },\n    watch: {\n      // 监听 activeName 的变化\n      activeName(val) {\n        this.$router.push(`${this.$route.path}?tab=${val}`);\n      },\n    },\n  };\n</script>\n<style scoped>\n  .limitWidth {\n    width: 185px;\n  }\n</style>\n\n<style lang=\"scss\">\n  .el-collapse {\n    .el-collapse-item {\n      border-left: 1px solid #e6ebf5;\n      border-right: 1px solid #e6ebf5;\n      margin-bottom: 10px;\n    }\n    .el-collapse-item__header {\n      padding-left: 10px;\n      border-bottom: 1px solid #e6ebf5;\n    }\n    .el-collapse-item__content {\n      padding: 0 10px;\n      margin-top: 10px;\n    }\n  }\n</style>"]}]}